if(function(t){t(document).ready(function(){var e=t("#cooked-migration-button");t("#cooked-migration-progress"),t("#cooked-migration-progress-text");e.length&&e.on("click",function(e){e.preventDefault();var o=t(this);if(confirm(cooked_js_vars.i18n_confirm_migrate_recipes)&&!o.hasClass("disabled")){o.addClass("disabled").attr("disabled",!0),o.hide();t.post(cooked_js_vars.ajax_url,{action:"cooked_get_migrate_ids"},function(e){if(e){var o=JSON.parse(e),t=Object.keys(o).length;0<t&&cooked_migrate_recipes(e,t)}})}})})}(jQuery),"function"!=typeof cookedDecimalAdjust)function cookedDecimalAdjust(e,o,t){return void 0===t||0==+t?Math[e](o):(t=+t,null===(o=+o)||isNaN(o)||"number"!=typeof t||t%1!=0?NaN:o<0?-cookedDecimalAdjust(e,-o,t):(o=o.toString().split("e"),+((o=(o=Math[e](+(o[0]+"e"+(o[1]?+o[1]-t:-t)))).toString().split("e"))[0]+"e"+(o[1]?+o[1]+t:t))))}Math.round10||(Math.round10=function(e,o){return cookedDecimalAdjust("round",e,o)});var cooked_recipe_migrate_counter=0,progressIterations=0;function cooked_migrate_recipes(e,d){var l=0;if(0<d){var g=jQuery("#cooked-migration-progress"),u=g.find(".cooked-progress-bar"),_=jQuery("#cooked-migration-progress-text");g.hasClass("cooked-active")||(g.addClass("cooked-active"),_.addClass("cooked-active"),u.css({width:"0%"}));var o=JSON.parse(e);Object.keys(o).length;d.toLocaleString();jQuery.post(cooked_js_vars.ajax_url,{action:"cooked_migrate_recipes",recipe_ids:e},function(e){if(e&&"false"!=e&&0!=e){var o=JSON.parse(e),t=Object.keys(o).length;cooked_recipe_migrate_counter=d-t;var i=d;i.toLocaleString();var r=cooked_recipe_migrate_counter;r.toLocaleString(),(l=Math.round10(cooked_recipe_migrate_counter/d*100,-1))<2&&(l=2),u.css({width:l+"%"});var a,s,n=100-l,c=Math.round(n/l*progressIterations);progressIterations+=1,l<100&&3<l&&isFinite(c)?(a=Math.floor(c/3600),s=Math.floor(c/60%60),1<=a?_.html(r+" / "+i+"<strong style='display:inline-block; float:right;'>"+a+" hrs, "+s+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):1<=s?_.html(r+" / "+i+"<strong style='display:inline-block; float:right;'>"+s+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):_.text(r+" / "+i)):_.text(r+" / "+i),cooked_migrate_recipes(e,d)}else g.hide(),_.hide(),jQuery(".recipe-setting-block.migrate_button").find("h3").hide(),jQuery(".recipe-setting-block.migrate_button").find("p:nth-child(2)").hide(),jQuery(".recipe-setting-block.migrate_button").find("ul.cooked-admin-ul").hide(),jQuery("#cooked-migration-button").hide(),jQuery("#cooked-migration-completed").addClass("cooked-active")})}}