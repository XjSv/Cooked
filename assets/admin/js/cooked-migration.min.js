!function(o){o(document).ready(function(){var e=o("#cooked-migration-button");o("#cooked-migration-progress"),o("#cooked-migration-progress-text");e.length&&e.on("click",function(e){e.preventDefault();e=o(this);confirm(cooked_js_vars.i18n_confirm_migrate_recipes)&&!e.hasClass("disabled")&&(e.addClass("disabled").attr("disabled",!0),e.hide(),o.post(cooked_js_vars.ajax_url,{action:"cooked_get_migrate_ids"},function(e){var o;e&&(o=JSON.parse(e),0<(o=Object.keys(o).length))&&cooked_migrate_recipes(e,o)}))})})}(jQuery);{function cookedDecimalAdjust(e,o,t){return void 0===t||0==+t?Math[e](o):(t=+t,null===(o=+o)||isNaN(o)||"number"!=typeof t||t%1!=0?NaN:o<0?-cookedDecimalAdjust(e,-o,t):(o=o.toString().split("e"),+((o=(o=Math[e](+(o[0]+"e"+(o[1]?+o[1]-t:-t)))).toString().split("e"))[0]+"e"+(o[1]?+o[1]+t:t))))}}Math.round10||(Math.round10=function(e,o){return cookedDecimalAdjust("round",e,o)});var cooked_recipe_migrate_counter=0,progressIterations=0;function cooked_migrate_recipes(e,a){var s,n,c,o,d=0;0<a&&(s=jQuery("#cooked-migration-progress"),n=s.find(".cooked-progress-bar"),c=jQuery("#cooked-migration-progress-text"),s.hasClass("cooked-active")||(s.addClass("cooked-active"),c.addClass("cooked-active"),n.css({width:"0%"})),o=JSON.parse(e),Object.keys(o).length,a.toLocaleString(),jQuery.post(cooked_js_vars.ajax_url,{action:"cooked_migrate_recipes",recipe_ids:e},function(e){var o,t,i,r;e&&"false"!=e&&0!=e?(o=JSON.parse(e),o=Object.keys(o).length,cooked_recipe_migrate_counter=a-o,(o=a).toLocaleString(),(t=cooked_recipe_migrate_counter).toLocaleString(),(d=Math.round10(cooked_recipe_migrate_counter/a*100,-1))<2&&(d=2),n.css({width:d+"%"}),r=100-d,r=Math.round(r/d*progressIterations),progressIterations+=1,d<100&&3<d&&isFinite(r)?(i=Math.floor(r/3600),r=Math.floor(r/60%60),1<=i?c.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+i+" hrs, "+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):1<=r?c.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):c.text(t+" / "+o)):c.text(t+" / "+o),cooked_migrate_recipes(e,a)):(s.hide(),c.hide(),jQuery(".recipe-setting-block.migrate_button").find("h3").hide(),jQuery(".recipe-setting-block.migrate_button").find("p:nth-child(2)").hide(),jQuery(".recipe-setting-block.migrate_button").find("ul.cooked-admin-ul").hide(),jQuery("#cooked-migration-button").hide(),jQuery("#cooked-migration-completed").addClass("cooked-active"))}))}