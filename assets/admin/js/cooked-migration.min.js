(r=>{r(document).ready(function(){var e=r("#cooked-migration-button"),o=r("#cooked-import-button");r("#cooked-migration-progress"),r("#cooked-migration-progress-text");e.length&&e.on("click",function(e){e.preventDefault();e=r(this);confirm(cooked_js_vars.i18n_confirm_migrate_recipe)&&!e.hasClass("disabled")&&(e.addClass("disabled").attr("disabled",!0),e.hide(),r.post(cooked_js_vars.ajax_url,{action:"cooked_get_migrate_ids"},function(e){var o;e&&(o=JSON.parse(e),0<Object.keys(o).length)&&cooked_migrate_recipes(e,total_recipe)}))}),o.length&&o.on("click",function(e){e.preventDefault();var t=r(this),i=t.data("import-type");confirm(cooked_js_vars.i18n_confirm_import_recipes)&&!t.hasClass("disabled")&&(t.addClass("disabled").attr("disabled",!0),t.hide(),r.post(cooked_js_vars.ajax_url,{action:"cooked_get_import_ids",import_type:i},function(e){var o;e?(o=JSON.parse(e),0<(o=Object.keys(o).length)&&cooked_import_recipes(e,o,i)):(console.log("Something went wrong"),t.addClass("disabled").attr("disabled",!1),t.show())}))})})})(jQuery);{function cookedDecimalAdjust(e,o,t){return void 0===t||0==+t?Math[e](o):(t=+t,null===(o=+o)||isNaN(o)||"number"!=typeof t||t%1!=0?NaN:o<0?-cookedDecimalAdjust(e,-o,t):(o=o.toString().split("e"),+((o=(o=Math[e](+(o[0]+"e"+(o[1]?+o[1]-t:-t)))).toString().split("e"))[0]+"e"+(o[1]?+o[1]+t:t))))}}Math.round10||(Math.round10=function(e,o){return cookedDecimalAdjust("round",e,o)});var cooked_recipe_migrate_counter=0,progressIterations=0;function cooked_migrate_recipes(e,s){var a,c,n,o,d=0;0<s&&(a=jQuery("#cooked-migration-progress"),c=a.find(".cooked-progress-bar"),n=jQuery("#cooked-migration-progress-text"),a.hasClass("cooked-active")||(a.addClass("cooked-active"),n.addClass("cooked-active"),c.css({width:"0%"})),o=JSON.parse(e),Object.keys(o).length,s.toLocaleString(),jQuery.post(cooked_js_vars.ajax_url,{action:"cooked_migrate_recipes",recipe_ids:e},function(e){var o,t,i,r;e&&"false"!=e&&0!=e?(o=JSON.parse(e),o=Object.keys(o).length,cooked_recipe_migrate_counter=s-o,(o=s).toLocaleString(),(t=cooked_recipe_migrate_counter).toLocaleString(),(d=Math.round10(cooked_recipe_migrate_counter/s*100,-1))<2&&(d=2),c.css({width:d+"%"}),r=100-d,r=Math.round(r/d*progressIterations),progressIterations+=1,d<100&&3<d&&isFinite(r)?(i=Math.floor(r/3600),r=Math.floor(r/60%60),1<=i?n.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+i+" hrs, "+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):1<=r?n.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):n.text(t+" / "+o)):n.text(t+" / "+o),cooked_migrate_recipes(e,s)):(a.hide(),n.hide(),jQuery(".recipe-setting-block.migrate_button").find("h3").hide(),jQuery(".recipe-setting-block.migrate_button").find("p:nth-child(2)").hide(),jQuery(".recipe-setting-block.migrate_button").find("ul.cooked-admin-ul").hide(),jQuery("#cooked-migration-button").hide(),jQuery("#cooked-migration-completed").addClass("cooked-active"))}))}function cooked_import_recipes(e,s,a){var c,n,d,o,l=0;0<s&&(c=jQuery("#cooked-import-progress"),n=c.find(".cooked-progress-bar"),d=jQuery("#cooked-import-progress-text"),c.hasClass("cooked-active")||(c.addClass("cooked-active"),d.addClass("cooked-active"),n.css({width:"0%"})),o=JSON.parse(e),Object.keys(o).length,s.toLocaleString(),jQuery.post(cooked_js_vars.ajax_url,{action:"cooked_import_recipes",recipe_ids:e,import_type:a},function(e){var o,t,i,r;e&&"false"!=e&&0!=e?(o=JSON.parse(e),o=Object.keys(o).length,cooked_recipe_migrate_counter=s-o,(o=s).toLocaleString(),(t=cooked_recipe_migrate_counter).toLocaleString(),(l=Math.round10(cooked_recipe_migrate_counter/s*100,-1))<2&&(l=2),n.css({width:l+"%"}),r=100-l,r=Math.round(r/l*progressIterations),progressIterations+=1,l<100&&3<l&&isFinite(r)?(i=Math.floor(r/3600),r=Math.floor(r/60%60),1<=i?d.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+i+" hrs, "+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):1<=r?d.html(t+" / "+o+"<strong style='display:inline-block; float:right;'>"+r+" mins "+cooked_js_vars.i18n_remaining+"</strong>"):d.text(t+" / "+o)):d.text(t+" / "+o),cooked_import_recipes(e,s,a)):(c.hide(),d.hide(),jQuery(".recipe-setting-block.import_button").find("h3").hide(),jQuery(".recipe-setting-block.import_button").find("p:nth-child(2)").hide(),jQuery(".recipe-setting-block.import_button").find(".cooked-import-note").hide(),jQuery(".recipe-setting-block.import_button").find("ul.cooked-admin-ul").hide(),jQuery("#cooked-import-button").hide(),jQuery("#cooked-import-completed").addClass("cooked-active"))}))}