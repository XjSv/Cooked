var cooked_loading=!1;(l=>{$_Cooked_Ingredient_Boxes=l(".cooked-ingredient-checkbox"),$_Cooked_Fotorama=l(".cooked-recipe-gallery"),$_Cooked_Ajax_List=l(".cooked-recipe-loader"),$_Cooked_Recipe_Search=l(".cooked-recipe-search"),$_Cooked_Timers=l(".cooked-timer > a"),$_Cooked_FSM_Button=l(".cooked-fsm-button"),$_Cooked_Fotorama.length&&$_Cooked_Fotorama.on("fotorama:ready",function(e,o){setTimeout(function(){$_Cooked_Fotorama.addClass("cooked-gallery-loaded")},100)}),l(document).ready(function(){$_Cooked_Fotorama.length&&$_Cooked_Fotorama.fotorama();{function c(e){e.on("click",function(e){var o=l(this);o.hasClass("cooked-checked")?(o.parent().removeClass("cooked-checked"),o.removeClass("cooked-checked")):(o.parent().addClass("cooked-checked"),o.addClass("cooked-checked"))})}$_Cooked_Ingredient_Boxes.length&&c($_Cooked_Ingredient_Boxes)}var a,i;function d(e){e.on("click",function(e){e.preventDefault();var o,s,e=l(this),c="cookedTimer-"+e.data("timer-id"),i=l("#cooked-timers-wrap").find(".cooked-timer-block").length;l("div#"+c).length?(l("div#"+c).css({background:"#eeeeee"}),setTimeout(function(){l("div#"+c).css({background:""})},200)):4==i?(l("#cooked-timers-wrap").css({transform:"translate3d(0,0.5em,0)"}),setTimeout(function(){l("#cooked-timers-wrap").css({transform:""})},200)):(o=7.5*(i+=1),s=e.parents(".cooked-single-direction").length?e.parents(".cooked-single-direction").data("step"):cooked_js_vars.i18n_timer,s={id:c,seconds:e.data("seconds"),step:s,desc:e.data("desc")},l("#cooked-timers-wrap").length?(e=1==i?" cooked-visible":"",a<i?l("#cooked-timers-wrap").addClass("cooked-multiples"):l("#cooked-timers-wrap").removeClass("cooked-multiples"),l("#cooked-timers-wrap").addClass("cooked-visible"),i=t(s,e),l("#cooked-timers-wrap").append(i),n(l("#"+s.id).find(".cooked-timer-obj"),!1),setTimeout(function(){l("#cooked-timers-wrap").css({height:o+"em"}),l(".cooked-timer-block").addClass("cooked-visible")},50)):(e=l("<div>",{id:"cooked-timers-wrap"}),i=t(s),e.append(i),l("body").append(e),n(l("#"+s.id).find(".cooked-timer-obj"),!1),setTimeout(function(){l("#cooked-timers-wrap").addClass("cooked-visible")},50)))})}function t(e,o="cooked-visible"){o=l("<div>",{id:e.id,class:"cooked-timer-block "+o}),l("<span>",{class:"cooked-timer-step",text:e.step}).appendTo(o),l("<span>",{class:"cooked-timer-desc",text:e.desc}).appendTo(o),l("<div>",{class:"cooked-timer-obj","data-seconds-left":e.seconds}).appendTo(o),l("<i>",{class:"cooked-icon cooked-icon-times"}).appendTo(o),e=l("<div>",{class:"cooked-progress"});return l("<span>").appendTo(e),e.appendTo(o),o}function n(o,e){var s=cooked_js_vars.timer_sound,c=new Audio(s),i=o.parents(".cooked-timer-block").attr("id"),d=o.data("seconds-left"),t=o.parents(".cooked-timer-block");o.startTimer({classNames:{hours:"cooked-timer-hours",minutes:"cooked-timer-minutes",seconds:"cooked-timer-seconds",clearDiv:"cooked-timer-clearDiv",timeout:"cooked-timer-timeout"},onComplete:function(){c.play(),o.addClass("cooked-timer-complete")}}),o.prepend('<i class="cooked-icon cooked-icon-reverse"></i><i class="cooked-icon cooked-icon-pause"></i><i class="cooked-icon cooked-icon-play"></i>'),e&&(o.trigger("pause"),t.addClass("cooked-paused"),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").css({display:"inline-block"}),t.addClass("cooked-paused"),l(this).parent().find("i.cooked-icon-play").css({display:"inline-block"})),r(t,10,10),o.on("update",function(e,o){r(t,o,d)}),o.on("complete",function(e,o){c.play(),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").hide(),t.find(".cooked-timer-seconds").html("00")}),o.on("click","i.cooked-icon-pause",function(e){e.preventDefault(),l(this).hide(),t.addClass("cooked-paused"),l(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),o.trigger("pause")}),o.on("click","i.cooked-icon-play",function(e){e.preventDefault(),l(this).hide(),t.removeClass("cooked-paused cooked-complete"),l(this).parent().find("i.cooked-icon-pause").css({display:"inline-block"}),o.trigger("resume")}),o.on("click","i.cooked-icon-reverse",function(e){e.preventDefault(),t.removeClass("cooked-paused cooked-complete"),l(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),l(this).parent().find("i.cooked-icon-pause").hide(),o.remove(),l("#"+i).append('<div class="cooked-timer-obj" data-seconds-left="'+d+'"></div>'),n(l("#"+i).find(".cooked-timer-obj"),!0)}),t.on("click","i.cooked-icon-times",function(e){var o;e.preventDefault(),1==l("#cooked-timers-wrap").find(".cooked-timer-block").length?l("#cooked-timers-wrap").removeClass("cooked-visible"):(o=7.5*(e=l("#cooked-timers-wrap").find(".cooked-timer-block").length-1),l("#cooked-timers-wrap").css({height:o+"em"}),t.removeClass("cooked-visible"),e==a&&l("#cooked-timers-wrap").removeClass("cooked-multiples")),setTimeout(function(){t.remove()},200)})}function r(e,o,s){o=100-o/s*100;e.find(".cooked-progress > span").css({width:o+"%"}),100<=o&&e.addClass("cooked-complete")}l(".cooked-servings").length&&l(".cooked-servings").find("select").on("change",function(e){e.preventDefault();var e=l(this).children("option:selected").val(),o=new URL(window.location.href);o.searchParams.set("servings",e),window.location.href=o.toString()}),$_Cooked_Recipe_Search.length&&(l("body").on("click",function(e){var o=!1;0<l(".cooked-browse-select").has(e.target).length?o=l(e.target).parents(".cooked-browse-select"):l(e.target).hasClass("cooked-browse-select")&&(o=l(e.target)),o?o.hasClass("cooked-active")&&l(e.target).hasClass("cooked-browse-select")||o.hasClass("cooked-active")&&l(e.target).hasClass("cooked-field-title")?o.removeClass("cooked-active"):o.addClass("cooked-active"):l(".cooked-browse-select").removeClass("cooked-active")}),l(".cooked-browse-search-button").on("click",function(e){e.preventDefault(),l(this).parents("form").trigger("submit")}),cooked_js_vars.permalink_structure)&&l(".cooked-recipe-search form").on("submit",function(e){e.preventDefault();e={category:wp.sanitize.stripTags(l(this).find('[name="cp_recipe_category"]').val()||""),method:wp.sanitize.stripTags(l(this).find('[name="cp_recipe_cooking_method"]').val()||""),cuisine:wp.sanitize.stripTags(l(this).find('[name="cp_recipe_cuisine"]').val()||""),tags:wp.sanitize.stripTags(l(this).find('[name="cp_recipe_tags"]').val()||""),diet:wp.sanitize.stripTags(l(this).find('[name="cp_recipe_diet"]').val()||""),search:wp.sanitize.stripTags(l(this).find('[name="cooked_search_s"]').val()||""),sort:wp.sanitize.stripTags(l(this).find('[name="cooked_browse_sort_by"]').val()||"date_desc")};let s=[];s.push(encodeURIComponent(cooked_js_vars.browse_recipes_slug));[{value:e.category,prefix:cooked_js_vars.recipe_category_slug},{value:e.method,prefix:cooked_js_vars.recipe_cooking_method_slug},{value:e.cuisine,prefix:cooked_js_vars.recipe_cuisine_slug},{value:e.tags,prefix:cooked_js_vars.recipe_tags_slug},{value:e.diet,prefix:cooked_js_vars.recipe_diet_slug}].forEach(e=>{var o;e.value&&(o=encodeURIComponent(e.prefix),e=encodeURIComponent(e.value),s.push(o+"/"+e))}),e.search&&s.push("search/"+encodeURIComponent(e.search)),s.push("sort/"+encodeURIComponent(e.sort));e=s.filter(Boolean).join("/"),e=(new URL(cooked_js_vars.site_url).pathname+"/"+e).replace(/\/+/g,"/");window.location.href=e}),$_Cooked_Timers.length&&(a=1,d($_Cooked_Timers)),$_Cooked_FSM_Button.length&&(i=new NoSleep,$_Cooked_FSM_Button.on("click",function(e){e.preventDefault();var e=l(this).data("recipe-id"),e=l('.cooked-fsm[data-recipe-id="'+e+'"]'),o=(l("body").addClass("cooked-noscroll cooked-fsm-active"),e.clone().appendTo("body")),e=(setTimeout(function(){o.addClass("cooked-visible")},10),setTimeout(function(){o.addClass("cooked-active")},50),o.find(".cooked-timer > a")),s=o.find(".cooked-ingredient-checkbox");d(e),c(s),i.enable(),o.on("click",".cooked-close-fsm",function(e){e.preventDefault(),o.removeClass("cooked-active"),l("body").removeClass("cooked-noscroll cooked-fsm-active"),i.disable(),setTimeout(function(){o.remove()},350)})}),l("body").on("click",".cooked-fsm-mobile-nav > a",function(e){e.preventDefault();var e=l(this),o=e.data("nav-id"),s=e.parents(".cooked-fsm");s.find(".cooked-fsm-mobile-nav > a").removeClass("cooked-active"),s.find(".cooked-fsm-content").removeClass("cooked-active"),e.addClass("cooked-active"),("ingredients"==o?s.find(".cooked-fsm-content.cooked-fsm-ingredients"):(s.find(".cooked-fsm-content.cooked-fsm-directions-wrap").addClass("cooked-active"),s.find(".cooked-fsm-content.cooked-fsm-directions").addClass("cooked-active"),s.find(".cooked-fsm-content.cooked-fsm-notes"))).addClass("cooked-active")}))})})(jQuery);