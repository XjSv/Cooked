var cooked_loading=!1;(k=>{$_Cooked_Ingredient_Boxes=k(".cooked-ingredient-checkbox"),$_Cooked_Fotorama=k(".cooked-recipe-gallery"),$_Cooked_Ajax_List=k(".cooked-recipe-loader"),$_Cooked_Recipe_Search=k(".cooked-recipe-search"),$_Cooked_Timers=k(".cooked-timer > a"),$_Cooked_FSM_Button=k(".cooked-fsm-button"),$_Cooked_Fotorama.length&&$_Cooked_Fotorama.on("fotorama:ready",function(e,o){setTimeout(function(){$_Cooked_Fotorama.addClass("cooked-gallery-loaded")},100)}),k(document).ready(function(){$_Cooked_Fotorama.length&&$_Cooked_Fotorama.fotorama();{function d(e){e.on("click",function(e){var o=k(this);o.hasClass("cooked-checked")?(o.parent().removeClass("cooked-checked"),o.removeClass("cooked-checked")):(o.parent().addClass("cooked-checked"),o.addClass("cooked-checked"))})}$_Cooked_Ingredient_Boxes.length&&d($_Cooked_Ingredient_Boxes)}var a,s;function i(e){e.on("click",function(e){e.preventDefault();var o,c,e=k(this),d="cookedTimer-"+e.data("timer-id"),s=k("#cooked-timers-wrap").find(".cooked-timer-block").length;k("div#"+d).length?(k("div#"+d).css({background:"#eeeeee"}),setTimeout(function(){k("div#"+d).css({background:""})},200)):4==s?(k("#cooked-timers-wrap").css({transform:"translate3d(0,0.5em,0)"}),setTimeout(function(){k("#cooked-timers-wrap").css({transform:""})},200)):(o=7.5*(s+=1),c=e.parents(".cooked-single-direction").length?e.parents(".cooked-single-direction").data("step"):cooked_js_vars.i18n_timer,c={id:d,seconds:e.data("seconds"),step:c,desc:e.data("desc")},k("#cooked-timers-wrap").length?(e=1==s?" cooked-visible":"",a<s?k("#cooked-timers-wrap").addClass("cooked-multiples"):k("#cooked-timers-wrap").removeClass("cooked-multiples"),k("#cooked-timers-wrap").addClass("cooked-visible"),s=t(c,e),k("#cooked-timers-wrap").append(s),n(k("#"+c.id).find(".cooked-timer-obj"),!1),setTimeout(function(){k("#cooked-timers-wrap").css({height:o+"em"}),k(".cooked-timer-block").addClass("cooked-visible")},50)):(e=k("<div>",{id:"cooked-timers-wrap"}),s=t(c),e.append(s),k("body").append(e),n(k("#"+c.id).find(".cooked-timer-obj"),!1),setTimeout(function(){k("#cooked-timers-wrap").addClass("cooked-visible")},50)))})}function t(e,o="cooked-visible"){o=k("<div>",{id:e.id,class:"cooked-timer-block "+o}),k("<span>",{class:"cooked-timer-step",text:e.step}).appendTo(o),k("<span>",{class:"cooked-timer-desc",text:e.desc}).appendTo(o),k("<div>",{class:"cooked-timer-obj","data-seconds-left":e.seconds}).appendTo(o),k("<i>",{class:"cooked-icon cooked-icon-times"}).appendTo(o),e=k("<div>",{class:"cooked-progress"});return k("<span>").appendTo(e),e.appendTo(o),o}function n(o,e){var c=cooked_js_vars.timer_sound,d=new Audio(c),s=o.parents(".cooked-timer-block").attr("id"),i=o.data("seconds-left"),t=o.parents(".cooked-timer-block");o.startTimer({classNames:{hours:"cooked-timer-hours",minutes:"cooked-timer-minutes",seconds:"cooked-timer-seconds",clearDiv:"cooked-timer-clearDiv",timeout:"cooked-timer-timeout"},onComplete:function(){d.play(),o.addClass("cooked-timer-complete")}}),o.prepend('<i class="cooked-icon cooked-icon-reverse"></i><i class="cooked-icon cooked-icon-pause"></i><i class="cooked-icon cooked-icon-play"></i>'),e&&(o.trigger("pause"),t.addClass("cooked-paused"),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").css({display:"inline-block"}),t.addClass("cooked-paused"),k(this).parent().find("i.cooked-icon-play").css({display:"inline-block"})),r(t,10,10),o.on("update",function(e,o){r(t,o,i)}),o.on("complete",function(e,o){d.play(),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").hide(),t.find(".cooked-timer-seconds").html("00")}),o.on("click","i.cooked-icon-pause",function(e){e.preventDefault(),k(this).hide(),t.addClass("cooked-paused"),k(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),o.trigger("pause")}),o.on("click","i.cooked-icon-play",function(e){e.preventDefault(),k(this).hide(),t.removeClass("cooked-paused cooked-complete"),k(this).parent().find("i.cooked-icon-pause").css({display:"inline-block"}),o.trigger("resume")}),o.on("click","i.cooked-icon-reverse",function(e){e.preventDefault(),t.removeClass("cooked-paused cooked-complete"),k(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),k(this).parent().find("i.cooked-icon-pause").hide(),o.remove(),k("#"+s).append('<div class="cooked-timer-obj" data-seconds-left="'+i+'"></div>'),n(k("#"+s).find(".cooked-timer-obj"),!0)}),t.on("click","i.cooked-icon-times",function(e){var o;e.preventDefault(),1==k("#cooked-timers-wrap").find(".cooked-timer-block").length?k("#cooked-timers-wrap").removeClass("cooked-visible"):(o=7.5*(e=k("#cooked-timers-wrap").find(".cooked-timer-block").length-1),k("#cooked-timers-wrap").css({height:o+"em"}),t.removeClass("cooked-visible"),e==a&&k("#cooked-timers-wrap").removeClass("cooked-multiples")),setTimeout(function(){t.remove()},200)})}function r(e,o,c){o=100-o/c*100;e.find(".cooked-progress > span").css({width:o+"%"}),100<=o&&e.addClass("cooked-complete")}k(".cooked-servings").length&&k(".cooked-servings").find("select").on("change",function(e){e.preventDefault();var e=k(this).children("option:selected").val(),o=new URL(window.location.href);o.searchParams.set("servings",e),window.location.href=o.toString()}),$_Cooked_Recipe_Search.length&&(k("body").on("click",function(e){var o=!1;0<k(".cooked-browse-select").has(e.target).length?o=k(e.target).parents(".cooked-browse-select"):k(e.target).hasClass("cooked-browse-select")&&(o=k(e.target)),o?o.hasClass("cooked-active")&&k(e.target).hasClass("cooked-browse-select")||o.hasClass("cooked-active")&&k(e.target).hasClass("cooked-field-title")?o.removeClass("cooked-active"):o.addClass("cooked-active"):k(".cooked-browse-select").removeClass("cooked-active")}),k(".cooked-browse-search-button").on("click",function(e){e.preventDefault(),k(this).parents("form").trigger("submit")})),$_Cooked_Timers.length&&(a=1,i($_Cooked_Timers)),$_Cooked_FSM_Button.length&&(s=new NoSleep,$_Cooked_FSM_Button.on("click",function(e){e.preventDefault();var e=k(this).data("recipe-id"),e=k('.cooked-fsm[data-recipe-id="'+e+'"]'),o=(k("body").addClass("cooked-noscroll cooked-fsm-active"),e.clone().appendTo("body")),e=(setTimeout(function(){o.addClass("cooked-visible")},10),setTimeout(function(){o.addClass("cooked-active")},50),o.find(".cooked-timer > a")),c=o.find(".cooked-ingredient-checkbox");i(e),d(c),s.enable(),o.on("click",".cooked-close-fsm",function(e){e.preventDefault(),o.removeClass("cooked-active"),k("body").removeClass("cooked-noscroll cooked-fsm-active"),s.disable(),setTimeout(function(){o.remove()},350)})}),k("body").on("click",".cooked-fsm-mobile-nav > a",function(e){e.preventDefault();var e=k(this),o=e.data("nav-id"),c=e.parents(".cooked-fsm");c.find(".cooked-fsm-mobile-nav > a").removeClass("cooked-active"),c.find(".cooked-fsm-content").removeClass("cooked-active"),e.addClass("cooked-active"),("ingredients"==o?c.find(".cooked-fsm-content.cooked-fsm-ingredients"):(c.find(".cooked-fsm-content.cooked-fsm-directions-wrap").addClass("cooked-active"),c.find(".cooked-fsm-content.cooked-fsm-directions").addClass("cooked-active"),c.find(".cooked-fsm-content.cooked-fsm-notes"))).addClass("cooked-active")}))})})(jQuery);