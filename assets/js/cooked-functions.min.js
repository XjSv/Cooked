var cooked_loading=!1;!function(p){$_Cooked_Ingredient_Boxes=p(".cooked-ingredient-checkbox"),$_Cooked_Fotorama=p(".cooked-recipe-gallery"),$_Cooked_Ajax_List=p(".cooked-recipe-loader"),$_Cooked_Recipe_Search=p(".cooked-recipe-search"),$_Cooked_Timers=p(".cooked-timer > a"),$_Cooked_FSM_Button=p(".cooked-fsm-button"),$_Cooked_Fotorama.length&&$_Cooked_Fotorama.on("fotorama:ready",function(e,o){setTimeout(function(){$_Cooked_Fotorama.addClass("cooked-gallery-loaded")},100)}),p(document).ready(function(){function t(e){e.on("click",function(e){var o=p(this);o.hasClass("cooked-checked")?(o.parent().removeClass("cooked-checked"),o.removeClass("cooked-checked")):(o.parent().addClass("cooked-checked"),o.addClass("cooked-checked"))})}var l;function a(e){e.on("click",function(e){e.preventDefault();var o=p(this),c="cookedTimer-"+o.data("timer-id"),d=p("#cooked-timers-wrap").find(".cooked-timer-block").length;if(p("div#"+c).length)return p("div#"+c).css({background:"#eeeeee"}),void setTimeout(function(){p("div#"+c).css({background:""})},200);if(4==d)return p("#cooked-timers-wrap").css({transform:"translate3d(0,0.5em,0)"}),void setTimeout(function(){p("#cooked-timers-wrap").css({transform:""})},200);var i,s=7.5*(d+=1);i=o.parents(".cooked-single-direction").length?o.parents(".cooked-single-direction").data("step"):cooked_js_vars.i18n_timer;var t,a=c,n=o.data("seconds"),r=i,k=o.data("desc");p("#cooked-timers-wrap").length?(t=1==d?" cooked-visible":"",l<d?p("#cooked-timers-wrap").addClass("cooked-multiples"):p("#cooked-timers-wrap").removeClass("cooked-multiples"),p("#cooked-timers-wrap").addClass("cooked-visible"),p("#cooked-timers-wrap").append('<div id="'+a+'" class="cooked-timer-block'+t+'"><span class="cooked-timer-step">'+r+'</span><span class="cooked-timer-desc">'+k+'</span><div class="cooked-timer-obj" data-seconds-left="'+n+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div>'),m(p("#"+a).find(".cooked-timer-obj"),!1),setTimeout(function(){p("#cooked-timers-wrap").css({height:s+"em"}),p(".cooked-timer-block").addClass("cooked-visible")},50)):(p("body").append('<div id="cooked-timers-wrap"><div id="'+a+'" class="cooked-timer-block cooked-visible"><span class="cooked-timer-step">'+r+'</span><span class="cooked-timer-desc">'+k+'</span><div class="cooked-timer-obj" data-seconds-left="'+n+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div></div>'),m(p("#"+a).find(".cooked-timer-obj"),!1),setTimeout(function(){p("#cooked-timers-wrap").addClass("cooked-visible")},50))})}function m(o,e){var c=cooked_js_vars.timer_sound,d=new Audio(c),i=o.parents(".cooked-timer-block").attr("id"),s=o.data("seconds-left"),t=o.parents(".cooked-timer-block");o.startTimer({classNames:{hours:"cooked-timer-hours",minutes:"cooked-timer-minutes",seconds:"cooked-timer-seconds",clearDiv:"cooked-timer-clearDiv",timeout:"cooked-timer-timeout"},onComplete:function(){d.play(),o.addClass("cooked-timer-complete")}}),o.prepend('<i class="cooked-icon cooked-icon-reverse"></i><i class="cooked-icon cooked-icon-pause"></i><i class="cooked-icon cooked-icon-play"></i>'),e&&(o.trigger("pause"),t.addClass("cooked-paused"),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").css({display:"inline-block"}),t.addClass("cooked-paused"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"})),n(t,10,10),o.on("update",function(e,o){n(t,o,s)}),o.on("complete",function(e,o){d.play(),t.find("i.cooked-icon-pause").hide(),t.find("i.cooked-icon-play").hide(),t.find(".cooked-timer-seconds").html("00")}),o.on("click","i.cooked-icon-pause",function(e){e.preventDefault(),p(this).hide(),t.addClass("cooked-paused"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),o.trigger("pause")}),o.on("click","i.cooked-icon-play",function(e){e.preventDefault(),p(this).hide(),t.removeClass("cooked-paused cooked-complete"),p(this).parent().find("i.cooked-icon-pause").css({display:"inline-block"}),o.trigger("resume")}),o.on("click","i.cooked-icon-reverse",function(e){e.preventDefault(),t.removeClass("cooked-paused cooked-complete"),p(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),p(this).parent().find("i.cooked-icon-pause").hide(),o.remove(),p("#"+i).append('<div class="cooked-timer-obj" data-seconds-left="'+s+'"></div>'),m(p("#"+i).find(".cooked-timer-obj"),!0)}),t.on("click","i.cooked-icon-times",function(e){var o,c;e.preventDefault(),1==p("#cooked-timers-wrap").find(".cooked-timer-block").length?p("#cooked-timers-wrap").removeClass("cooked-visible"):(c=7.5*(o=p("#cooked-timers-wrap").find(".cooked-timer-block").length-1),p("#cooked-timers-wrap").css({height:c+"em"}),t.removeClass("cooked-visible"),o==l&&p("#cooked-timers-wrap").removeClass("cooked-multiples")),setTimeout(function(){t.remove()},200)})}function n(e,o,c){var d=100-o/c*100;e.find(".cooked-progress > span").css({width:d+"%"}),100<=d&&e.addClass("cooked-complete")}$_Cooked_Fotorama.length&&$_Cooked_Fotorama.fotorama(),$_Cooked_Ingredient_Boxes.length&&t($_Cooked_Ingredient_Boxes),p(".cooked-servings").length&&p(".cooked-servings").find("select").on("change",function(e){e.preventDefault();var o=p(this).children("option:selected").val();window.location=o}),$_Cooked_Recipe_Search.length&&(p("body").on("click",function(e){var o=!1;0<p(".cooked-browse-select").has(e.target).length?o=p(e.target).parents(".cooked-browse-select"):p(e.target).hasClass("cooked-browse-select")&&(o=p(e.target)),o?o.hasClass("cooked-active")&&p(e.target).hasClass("cooked-browse-select")||o.hasClass("cooked-active")&&p(e.target).hasClass("cooked-field-title")?o.removeClass("cooked-active"):o.addClass("cooked-active"):p(".cooked-browse-select").removeClass("cooked-active")}),p(".cooked-browse-search-button").on("click",function(e){e.preventDefault(),p(this).parents("form").trigger("submit")})),$_Cooked_Timers.length&&(l=1,a($_Cooked_Timers)),$_Cooked_FSM_Button.length&&($_Cooked_FSM_Button.on("click",function(e){e.preventDefault();var o=p(this).data("recipe-id"),c=p('.cooked-fsm[data-recipe-id="'+o+'"]');p("body").addClass("cooked-noscroll cooked-fsm-active");var d=c.clone().appendTo("body");setTimeout(function(){d.addClass("cooked-visible")},10),setTimeout(function(){d.addClass("cooked-active")},50);var i=d.find(".cooked-timer > a"),s=d.find(".cooked-ingredient-checkbox");a(i),t(s),d.on("click",".cooked-close-fsm",function(e){e.preventDefault(),d.removeClass("cooked-active"),p("body").removeClass("cooked-noscroll cooked-fsm-active"),setTimeout(function(){d.remove()},350)})}),p("body").on("click",".cooked-fsm-mobile-nav > a",function(e){e.preventDefault();var o=p(this),c=o.data("nav-id"),d=o.parents(".cooked-fsm");d.find(".cooked-fsm-mobile-nav > a").removeClass("cooked-active"),d.find(".cooked-fsm-content").removeClass("cooked-active"),o.addClass("cooked-active"),d.find(".cooked-fsm-content.cooked-fsm-"+c).addClass("cooked-active")}))})}(jQuery);